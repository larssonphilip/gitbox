0.9:

- test merge conflict situation
- bug: cell heights are completely fucked up when commits list changes
- handle new repo: push to a new master branch
- handle pushing to a new branch: allow branch creation in "remote branch" dropdown
- clone a repo from the gui (menu item)
- create a new repo from the gui (by dropping a non-git folder)
- create a default .gitignore when creating a repo
- repos: add
- repos: edit


Other items:

- local branch merge
- push should be disabled when there's something to merge
- push should be disabled when remote branch is local
- pull should be "merge" when remote branch is local
- remote branch control title should "Other Local Branch" if the remote is local

- ignore: ignore context menu item in the stage
- ignore: drop the file into .gitignore editor

- performance: group common changes for a single commit command 

- bug: should try running NSTasks blocking in a background NSOperation to work around the leaks
- performance: should refresh status on FSEvent directory change (in background)
- bug: disable status table view while status is updating (double click on a stale row crashes the app)
  (or better: reuse matching changes to avoid that issue and avoid flickering and UI blocking)
- bug: table row selection is ignored if was no selection for ArrayController. Should check NSTableView selectedRowIndexes? 
  See http://forums.macrumors.com/showthread.php?t=166469
- bug: historical diff for Added file shows diff between current state (left) and initial state (right)

- history: checkout a commit
- check out a branch from the commit item
- add "load more" cell in the bottom of the log
- create a new tag

- fetch in background should reset fetch interval when new commits are fetched

- reread remotes on focus: if the names and urls are the same, do not ls-remote
- do ls-remote in background starting on unfocus
- stash list: as a local branch menu item?
- individual chunks commit
- compare image files in an double-pane image viewer
- compare office files using some office app: cooperate with Caleidoscope

- maybe put errors in a floating panel
- stash/apply stash from the menu, context menu
- maybe: easy/hidden rebase to keep history clean?

- log: mark as read/unread + automatic mark as read
- commit prompt: cmd+up/down to scroll through the recent messages

- sidebar to group repositories


Done:

+ bug: pull does not show alerts
+ test pull/merge when local modifications are present
+ edit .gitignore
+ edit .git/config
+ fetch in background should start when the window is always in background
+ git fetch does not update SHA1 of the remote branch when explicit branch name is given
+ fetch in background does not reload commits
+ prompt value binding problem
+ OK button does not work in prompt because textfield value is updated through binding yet.
+ unmerged/unpushed commits
+ ask for binary
+ multiline commit window
+ NSViewController for GBRepositoryWindow
+ remembering remote-local association
+ when checking out a new remote branch, master assoc becomes broken
+ when switching remote branch history is not updated
+ when refocusing the window, branches are not updated
+ title of a checked out branch is just fucked up
+ multiple checkmarks in a branch
+ should increase fetch interval in background to alleviate NSTask leaks
+ commit changes do not display renames properly
+ switch context menu for historical commits
+ empty filenames for untracked folder
+ do not open another window for the same repo if already opened, just make it a key window
+ when opened git.git repo spinner spins forever
+ git diff-tree returns top-level folders instead of full paths (use -r)
+ when fetching in background log shrinks (have no idea what happens)
+ "OATask failed: opendiff" - it is twice, is it because of terminating it?
+ local branch change does not refresh log
+ remote branch checkout does not update remote branch menu
+ sometimes hangs when FileMerge is opened (for a couple of seconds): http://www.cocoadev.com/index.pl?WrappingUnixApps 
  should listen to task termination notification
+ rename "current branch" into "local branch" menu
+ remember prompt window size
+ draw checkmark in branch menus for the selected branch
+ remember all opened windows on startup (for existing paths only)
+ recently opened files
+ prefill suggested remote branch name when creating a new remote branch (take a local branch name as a guess)
+ check AM/PM format in US locale
+ log: list of commits (last 500 commits)
+ prompt for a name when checking out a new branch
+ check out a branch from the remote one
+ fetch current remote branch every minute
+ add "stage" cell in the top of the log - shows stage and working directory status
+ right pane: changes (files)
+ open FileMerge.app with opendiff command
+ checkout a branch
+ checkout new branch
+ checkout tag
+ checkout remote branch
+ checkout tags as well
+ push
+ pull
+ changes for the stage
+ show FileMerge
+ delete an untracked file
+ revert file to committed state
+ commit

-------------------------------------------------------------------------------

Strange things:

- if a lazy accessor is bound, there can be infinite loop on setter call; perhaps should not use setter within a getter


Not to do:

- git blame: rare function, needs specific file listing UI; make another app;


Useful commands:

- list of SHA1 commit ids: git rev-list --format=raw --max-count=500 --skip=0 HEAD
- changes within a commit: git diff-tree df586737bc78d556b1ee5cfc567bbdee74b627b8 -r -m --no-commit-id
- changes on the stage: git diff-index --cached --ignore-submodules -z HEAD
- changes on the working directory (not including staged): git diff-files --ignore-submodules -z
- untracked files: git ls-files --other --exclude-standard -z

$ man git-diff-tree:

       git-diff-index <tree-ish>
           compares the <tree-ish> and the files on the filesystem.

       git-diff-index --cached <tree-ish>
           compares the <tree-ish> and the index.

       git-diff-tree [-r] <tree-ish-1> <tree-ish-2> [<pattern>...]
           compares the trees named by the two arguments.

       git-diff-files [<pattern>...]
           compares the index and the files on the filesystem.

